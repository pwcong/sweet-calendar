{"version":3,"sources":["webpack:///./src/store/models/setting.ts","webpack:///./src/store/reducers/index.ts","webpack:///./src/store/reducers/setting.ts","webpack:///./src/store/actions/setting.ts","webpack:///./src/store/index.ts","webpack:///./src/pages/calendar.tsx","webpack:///./src/pages/setting.tsx","webpack:///./src/pages/app.tsx","webpack:///./src/index.tsx"],"names":["date","undefined","workDay","freeDay","setting","state","action","type","Object","assign","payload","persistConfig","key","storage","persistedReducer","dispatch","setDate","props","cycle","_a","Date","now","setNow","_b","setKey","_c","current","setCurrent","_d","selected","setSelected","handleChange","v","handleCancel","getTileClassName","_props","_date","view","t1","t2","Math","abs","diff","timer","setInterval","clearInterval","handleCalc","getTime","createElement","className","value","onChange","tileClassName","format","Fragment","Button","variant","color","onClick","to","style","marginTop","setWorkDay","setFreeDay","history","currentWorkDay","setCurrentWorkDay","currentFreeDay","setCurrentFreeDay","handleSubmit","parseInt","goBack","TextField","required","id","label","e","target","exact","from","path","component","width","store","persistor","render","loading","document","getElementById"],"mappings":"mOAAA,IAKe,EALH,CACRA,UAAMC,EACNC,QAAS,EACTC,QAAS,GCDE,cAAgB,CAC3BC,QCDY,cAEZ,YADc,IAAVC,IAAoBA,EAAQ,GACxBC,EAAOC,MACX,ICLsB,mBDMlB,OAAOC,OAAOC,OAAO,GAAIJ,EAAO,CAC5BL,KAAMM,EAAOI,UAErB,ICFyB,sBDGrB,OAAOF,OAAOC,OAAO,GAAIJ,EAAO,CAC5BH,QAASI,EAAOI,UAExB,ICCyB,sBDArB,OAAOF,OAAOC,OAAO,GAAIJ,EAAO,CAC5BF,QAASG,EAAOI,UAExB,QACI,OAAOL,MEdfM,EAAgB,CAChBC,IAAK,iBACLC,QAAS,KAETC,EAAmB,YAAeH,EAAe,G,qEC+DtC,G,oBAAA,aANO,SAAUN,GAAS,MAAO,CAC5CD,QAASC,EAAMD,YAEM,SAAUW,GAAY,MAAO,CAClDC,QAAS,SAAUhB,GAAQ,OAAOe,EFpE/B,SAAiBf,GACpB,MAAO,CACHO,KAHsB,mBAItBG,QAASV,GEiE8B,CAAQA,QAExC,CAA6C,aA9DjD,SAAUiB,GACjB,IAAIb,EAAUa,EAAMb,QAASY,EAAUC,EAAMD,QACzChB,EAAOI,EAAQJ,KAAME,EAAUE,EAAQF,QAASC,EAAUC,EAAQD,QAClEe,EAAQ,mBAAQ,WAAc,OAAOhB,EAAUC,IAAY,CAACD,EAASC,IACrEgB,EAAK,mBAAS,IAAIC,MAASC,EAAMF,EAAG,GAAIG,EAASH,EAAG,GACpDI,EAAK,mBAAS,GAAIX,EAAMW,EAAG,GAAIC,EAASD,EAAG,GAC3CE,EAAK,mBAAS,IAAIL,MAASM,EAAUD,EAAG,GAAIE,EAAaF,EAAG,GAC5DG,EAAK,qBAAYC,EAAWD,EAAG,GAAIE,EAAcF,EAAG,GACpDG,EAAe,uBAAY,SAAUC,GACrCF,EAAYE,GACZL,EAAWK,KACZ,IACCC,EAAe,uBAAY,WAC3BT,EAAOZ,EAAM,GACbe,EAAW,IAAIP,MACfU,OAAY7B,KACb,CAACD,EAAMY,IACNsB,EAAmB,uBAAY,SAAUC,GACzC,IAAIC,EAAQD,EAAOnC,KAAMqC,EAAOF,EAAOE,KACvC,IAAKrC,GAAiB,UAATqC,EACT,MAAO,GAEX,IAAIC,EAAK,IAAM,IAAIlB,KAAKpB,IACpBuC,EAAK,IAAMH,GAEf,OADWI,KAAKC,IAAIF,EAAGG,KAAKJ,EAAI,MAClBpB,GAAU,EAAI,QAAU,KACvC,CAAClB,IACJ,qBAAU,WACN,IAAI2C,EAAQC,aAAY,WAAc,OAAOtB,EAAO,IAAIF,QAAY,KACpE,OAAO,WAAc,OAAOyB,cAAcF,OAE9C,IAAIG,EAAa,uBAAY,WACzB9B,EAAQa,EAASkB,WACjBpB,EAAW,IAAIP,MACfU,OAAY7B,KACb,CAAC4B,EAAUjB,IACd,OAAQ,IAAMoC,cAAc,MAAO,CAAEC,UAAW,YAC5C,IAAMD,cAAc,MAAO,CAAEC,UAAW,QACpC,IAAMD,cAAc,IAAU,CAAEpC,IAAKA,EAAKsC,MAAOxB,EAASyB,SAAUpB,EAAcqB,cAAelB,KACrG,IAAMc,cAAc,MAAO,CAAEC,UAAW,QACpC,IAAMD,cAAc,MAAO,CAAEC,UAAW,OACpC,IAAMD,cAAc,MAAO,CAAEC,UAAW,SAAW,OACnD,IAAMD,cAAc,MAAO,CAAEC,UAAW,SAAW,IAAM5B,GAAKgC,OAAO,yBACzE,IAAML,cAAc,MAAO,CAAEC,UAAW,OACpC,IAAMD,cAAc,MAAO,CAAEC,UAAW,SAAW,YACnD,IAAMD,cAAc,MAAO,CAAEC,UAAW,SAAW/C,IACvD,IAAM8C,cAAc,MAAO,CAAEC,UAAW,OACpC,IAAMD,cAAc,MAAO,CAAEC,UAAW,SAAW,YACnD,IAAMD,cAAc,MAAO,CAAEC,UAAW,SAAW9C,KAC3D,IAAM6C,cAAc,MAAO,CAAEC,UAAW,YAClCpB,GAAa,IAAMmB,cAAc,IAAMM,SAAU,KAC/C,IAAMN,cAAcO,EAAA,EAAQ,CAAEC,QAAS,WAAYC,MAAO,YAAaC,QAASZ,GAAc,4BAC9F,IAAME,cAAcO,EAAA,EAAQ,CAAEC,QAAS,WAAYE,QAASzB,GAAgB,WAChF,IAAMe,cAAc,IAAM,CAAEW,GAAI,YAC5B,IAAMX,cAAcO,EAAA,EAAQ,CAAEK,MAAO,CAAEC,UAAW,QAAUL,QAAS,WAAYC,MAAO,WAAa,mB,YC9BtG,G,UAAA,aAPO,SAAUpD,GAAS,MAAO,CAC5CD,QAASC,EAAMD,YAEM,SAAUW,GAAY,MAAO,CAClD+C,WAAY,SAAUZ,GAAS,OAAOnC,EHtBnC,SAAoBmC,GACvB,MAAO,CACH3C,KAHyB,sBAIzBG,QAASwC,GGmBkC,CAAWA,KAC1Da,WAAY,SAAUb,GAAS,OAAOnC,EHhBnC,SAAoBmC,GACvB,MAAO,CACH3C,KAHyB,sBAIzBG,QAASwC,GGakC,CAAWA,QAE/C,CAA6C,aA3BjD,SAAUjC,GACjB,IAAIb,EAAUa,EAAMb,QAAS0D,EAAa7C,EAAM6C,WAAYC,EAAa9C,EAAM8C,WAAYC,EAAU/C,EAAM+C,QACvG9D,EAAUE,EAAQF,QAASC,EAAUC,EAAQD,QAC7CgB,EAAK,mBAASjB,EAAU,IAAK+D,EAAiB9C,EAAG,GAAI+C,EAAoB/C,EAAG,GAC5EI,EAAK,mBAASpB,EAAU,IAAKgE,EAAiB5C,EAAG,GAAI6C,EAAoB7C,EAAG,GAC5E8C,EAAe,uBAAY,WAC3BP,EAAWQ,SAASL,IAAmB,GACvCF,EAAWO,SAASH,IAAmB,GACvCH,EAAQO,WACT,CAACN,EAAgBE,IACpB,OAAQ,IAAMnB,cAAc,MAAO,CAAEC,UAAW,WAC5C,IAAMD,cAAc,MAAO,CAAEC,UAAW,SAAW,kBACnD,IAAMD,cAAc,MAAO,CAAEC,UAAW,QACpC,IAAMD,cAAc,MAAO,CAAEC,UAAW,SACpC,IAAMD,cAAcwB,EAAA,EAAW,CAAEC,UAAU,EAAMC,GAAI,WAAYC,MAAO,WAAYzB,MAAOe,EAAgBd,SAAU,SAAUyB,GAAK,OAAOV,EAAkBU,EAAEC,OAAO3B,QAAW3C,KAAM,YAC3L,IAAMyC,cAAc,MAAO,CAAEC,UAAW,SACpC,IAAMD,cAAcwB,EAAA,EAAW,CAAEC,UAAU,EAAMC,GAAI,WAAYC,MAAO,WAAYzB,MAAOiB,EAAgBhB,SAAU,SAAUyB,GAAK,OAAOR,EAAkBQ,EAAEC,OAAO3B,QAAW3C,KAAM,aAC/L,IAAMyC,cAAc,MAAO,CAAEC,UAAW,UACpC,IAAMD,cAAcO,EAAA,EAAQ,CAAEC,QAAS,WAAYC,MAAO,UAAWC,QAASW,GAAgB,iBCZ3F,G,UAPL,WACN,OAAQ,IAAMrB,cAAc,IAAQ,KAChC,IAAMA,cAAc,IAAQ,KACxB,IAAMA,cAAc,IAAU,CAAE8B,OAAO,EAAMC,KAAM,IAAKpB,GAAI,cAC5D,IAAMX,cAAc,IAAO,CAAEgC,KAAM,YAAaF,OAAO,EAAMG,UAAW,IACxE,IAAMjC,cAAc,IAAO,CAAEgC,KAAM,WAAYF,OAAO,EAAMG,UAAW,Q,UCFnF,IAAI,IAAG,CACHC,MAAO,MAEX,IJDQC,EICJ,EJCO,CAAEA,MAFLA,EAAQ,YAAYrE,GAEDsE,UADP,YAAaD,IIAT,EAAQ,EAAGA,MAAO,EAAY,EAAGC,UACzD,IAASC,OAAO,IAAMrC,cAAc,IAAU,CAAEmC,MAAO,GACnD,IAAMnC,cAAc,IAAa,CAAEsC,QAAS,KAAMF,UAAW,GACzD,IAAMpC,cAAc,EAAK,QAASuC,SAASC,eAAe,S","file":"js/main.b2a29504c0f6d5ed9cee.js","sourcesContent":["var state = {\n    date: undefined,\n    workDay: 3,\n    freeDay: 2,\n};\nexport default state;\n","import { combineReducers } from 'redux';\nimport setting from './setting';\nexport default combineReducers({\n    setting: setting,\n});\n","import { SETTING_SET_DATE, SETTING_SET_FREEDAY, SETTING_SET_WORKDAY, } from '../actions/setting';\nimport DEFAULT_STATE from '../models/setting';\nexport default (function (state, action) {\n    if (state === void 0) { state = DEFAULT_STATE; }\n    switch (action.type) {\n        case SETTING_SET_DATE:\n            return Object.assign({}, state, {\n                date: action.payload,\n            });\n        case SETTING_SET_WORKDAY:\n            return Object.assign({}, state, {\n                workDay: action.payload,\n            });\n        case SETTING_SET_FREEDAY:\n            return Object.assign({}, state, {\n                freeDay: action.payload,\n            });\n        default:\n            return state;\n    }\n});\n","export var SETTING_SET_DATE = 'SETTING_SET_DATE';\nexport function setDate(date) {\n    return {\n        type: SETTING_SET_DATE,\n        payload: date,\n    };\n}\nexport var SETTING_SET_WORKDAY = 'SETTING_SET_WORKDAY';\nexport function setWorkDay(value) {\n    return {\n        type: SETTING_SET_WORKDAY,\n        payload: value,\n    };\n}\nexport var SETTING_SET_FREEDAY = 'SETTING_SET_FREEDAY';\nexport function setFreeDay(value) {\n    return {\n        type: SETTING_SET_FREEDAY,\n        payload: value,\n    };\n}\n","import { createStore } from 'redux';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport rootReducer from './reducers';\nvar persistConfig = {\n    key: 'sweet-calendar',\n    storage: storage,\n};\nvar persistedReducer = persistReducer(persistConfig, rootReducer);\nexport default (function () {\n    var store = createStore(persistedReducer);\n    var persistor = persistStore(store);\n    return { store: store, persistor: persistor };\n});\n","import React, { useState, useCallback, useMemo, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter, Link } from 'react-router-dom';\nimport Calendar from 'react-calendar';\nimport { Button } from '@material-ui/core';\nimport { setDate } from '@/store/actions/setting';\nimport dayjs from 'dayjs';\nimport './calendar.less';\nimport './calendar.scss';\nvar Page = function (props) {\n    var setting = props.setting, setDate = props.setDate;\n    var date = setting.date, workDay = setting.workDay, freeDay = setting.freeDay;\n    var cycle = useMemo(function () { return workDay + freeDay; }, [workDay, freeDay]);\n    var _a = useState(new Date()), now = _a[0], setNow = _a[1];\n    var _b = useState(0), key = _b[0], setKey = _b[1];\n    var _c = useState(new Date()), current = _c[0], setCurrent = _c[1];\n    var _d = useState(), selected = _d[0], setSelected = _d[1];\n    var handleChange = useCallback(function (v) {\n        setSelected(v);\n        setCurrent(v);\n    }, []);\n    var handleCancel = useCallback(function () {\n        setKey(key + 1);\n        setCurrent(new Date());\n        setSelected(undefined);\n    }, [date, key]);\n    var getTileClassName = useCallback(function (_props) {\n        var _date = _props.date, view = _props.view;\n        if (!date || view !== 'month') {\n            return '';\n        }\n        var t1 = dayjs(new Date(date));\n        var t2 = dayjs(_date);\n        var diff = Math.abs(t2.diff(t1, 'd'));\n        return diff % cycle === 0 ? 'sweet' : '';\n    }, [date]);\n    useEffect(function () {\n        var timer = setInterval(function () { return setNow(new Date()); }, 1000);\n        return function () { return clearInterval(timer); };\n    });\n    var handleCalc = useCallback(function () {\n        setDate(selected.getTime());\n        setCurrent(new Date());\n        setSelected(undefined);\n    }, [selected, key]);\n    return (React.createElement(\"div\", { className: \"calendar\" },\n        React.createElement(\"div\", { className: \"main\" },\n            React.createElement(Calendar, { key: key, value: current, onChange: handleChange, tileClassName: getTileClassName })),\n        React.createElement(\"div\", { className: \"info\" },\n            React.createElement(\"div\", { className: \"row\" },\n                React.createElement(\"div\", { className: \"label\" }, \"Now\"),\n                React.createElement(\"div\", { className: \"value\" }, dayjs(now).format('YYYY-MM-DD HH:mm:ss'))),\n            React.createElement(\"div\", { className: \"row\" },\n                React.createElement(\"div\", { className: \"label\" }, \"Work Day\"),\n                React.createElement(\"div\", { className: \"value\" }, workDay)),\n            React.createElement(\"div\", { className: \"row\" },\n                React.createElement(\"div\", { className: \"label\" }, \"Free Day\"),\n                React.createElement(\"div\", { className: \"value\" }, freeDay))),\n        React.createElement(\"div\", { className: \"bottom\" },\n            !!selected && (React.createElement(React.Fragment, null,\n                React.createElement(Button, { variant: \"outlined\", color: \"secondary\", onClick: handleCalc }, \"This is the sweeting day\"),\n                React.createElement(Button, { variant: \"outlined\", onClick: handleCancel }, \"Cancel\"))),\n            React.createElement(Link, { to: \"/setting\" },\n                React.createElement(Button, { style: { marginTop: '16px' }, variant: \"outlined\", color: \"primary\" }, \"Setting\")))));\n};\nvar mapStateToProps = function (state) { return ({\n    setting: state.setting,\n}); };\nvar mapDispatchToProps = function (dispatch) { return ({\n    setDate: function (date) { return dispatch(setDate(date)); },\n}); };\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Page));\n","import React, { useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { TextField, Button } from '@material-ui/core';\nimport { setWorkDay, setFreeDay } from '@/store/actions/setting';\nimport './setting.scss';\nvar Page = function (props) {\n    var setting = props.setting, setWorkDay = props.setWorkDay, setFreeDay = props.setFreeDay, history = props.history;\n    var workDay = setting.workDay, freeDay = setting.freeDay;\n    var _a = useState(workDay + ''), currentWorkDay = _a[0], setCurrentWorkDay = _a[1];\n    var _b = useState(freeDay + ''), currentFreeDay = _b[0], setCurrentFreeDay = _b[1];\n    var handleSubmit = useCallback(function () {\n        setWorkDay(parseInt(currentWorkDay) || 0);\n        setFreeDay(parseInt(currentFreeDay) || 0);\n        history.goBack();\n    }, [currentWorkDay, currentFreeDay]);\n    return (React.createElement(\"div\", { className: \"setting\" },\n        React.createElement(\"div\", { className: \"title\" }, \"Sweet Calendar\"),\n        React.createElement(\"div\", { className: \"form\" },\n            React.createElement(\"div\", { className: \"field\" },\n                React.createElement(TextField, { required: true, id: \"work-day\", label: \"Work Day\", value: currentWorkDay, onChange: function (e) { return setCurrentWorkDay(e.target.value); }, type: \"number\" })),\n            React.createElement(\"div\", { className: \"field\" },\n                React.createElement(TextField, { required: true, id: \"free-day\", label: \"Free Day\", value: currentFreeDay, onChange: function (e) { return setCurrentFreeDay(e.target.value); }, type: \"number\" }))),\n        React.createElement(\"div\", { className: \"bottom\" },\n            React.createElement(Button, { variant: \"outlined\", color: \"primary\", onClick: handleSubmit }, \"Submit\"))));\n};\nvar mapStateToProps = function (state) { return ({\n    setting: state.setting,\n}); };\nvar mapDispatchToProps = function (dispatch) { return ({\n    setWorkDay: function (value) { return dispatch(setWorkDay(value)); },\n    setFreeDay: function (value) { return dispatch(setFreeDay(value)); },\n}); };\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Page));\n","import React from 'react';\nimport { HashRouter as Router, Switch, Redirect, Route, } from 'react-router-dom';\nimport Calendar from './calendar';\nimport Setting from './setting';\nimport './app.scss';\nvar App = function () {\n    return (React.createElement(Router, null,\n        React.createElement(Switch, null,\n            React.createElement(Redirect, { exact: true, from: \"/\", to: \"/calendar\" }),\n            React.createElement(Route, { path: \"/calendar\", exact: true, component: Calendar }),\n            React.createElement(Route, { path: \"/setting\", exact: true, component: Setting }))));\n};\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport VW from 'vw-flexible';\nimport createStore from '@/store';\nimport App from './pages/app';\nimport './global.scss';\nnew VW({\n    width: 360,\n});\nvar _a = createStore(), store = _a.store, persistor = _a.persistor;\nReactDOM.render(React.createElement(Provider, { store: store },\n    React.createElement(PersistGate, { loading: null, persistor: persistor },\n        React.createElement(App, null))), document.getElementById('app'));\n"],"sourceRoot":""}